{% extends "base.html" %}

{% block content %}
<h1 class="mt-3">TODO List
  <a href="{% url 'todo_list:task-create' %}" class="btn btn-primary link-to-page float-right">
    Add task
  </a>
</h1>
<br>
<ul>
  {% for task in task_list %}
    <li>
      <p><strong>{{ task.content }}</strong>
      {% if task.is_done %}
        <strong class="text-success">Done</strong>
      {% else %}
        <strong class="text-danger">Not done</strong>
      {% endif %}

      {% if not task.is_done %}
        <a class="btn btn-success float-right" href="{% url 'todo_list:task-complete' pk=task.id %}">
          Complete
        </a>
      {% else %}
        <a class="btn btn-secondary float-right" href="{% url 'todo_list:task-undo' pk=task.id %}">
          Undo
        </a>
      {% endif %}

      </p>
      <p>Created: {{ task.created_at }}
        {% if not task.is_done %}
          <text class="text-danger">Deadline: {{ task.deadline }}</text>
        {% endif %}
      </p>
      <p class="text-muted font-weight-bold">Tags: {% for tag in task.tag.all %}
      {{ tag.name }}
      {% endfor %}
      <a href="{% url 'todo_list:task-update' pk=task.id %}">Update </a>
      <a class="text-danger" href="{% url 'todo_list:task-delete' pk=task.id %}">Delete </a>
      </p>
    </li>
    <hr>
  {% endfor %}
</ul>
{% endblock %}

